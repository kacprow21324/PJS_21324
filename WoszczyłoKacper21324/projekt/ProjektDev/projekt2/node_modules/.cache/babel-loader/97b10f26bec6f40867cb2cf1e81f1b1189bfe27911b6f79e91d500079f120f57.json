{"ast":null,"code":"import React,{useState}from'react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export default function PostThread(_ref){let{post,user,onVoteReply,onReply}=_ref;const[replyText,setReplyText]=useState('');const[activeReplyTo,setActiveReplyTo]=useState(null);const topReplies=post.replies.filter(r=>r.parentId==null);const childReplies=id=>post.replies.filter(r=>r.parentId===id);const handleSubmit=parentId=>{if(!replyText)return;onReply(post.id,parentId,replyText);setReplyText('');setActiveReplyTo(null);};const renderReply=reply=>/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:reply.parentId?'2rem':'1rem',borderLeft:reply.parentId?'2px dashed #bbb':'2px solid #ddd',padding:'0.5rem',marginTop:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[reply.user,\":\"]}),\" \",reply.text]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onVoteReply(post.id,reply.id,'up'),children:\"Lubi\\u0119\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onVoteReply(post.id,reply.id,'down'),children:\"Nie lubi\\u0119\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" Polubie\\u0144: \",reply.score||0]}),/*#__PURE__*/_jsx(\"button\",{style:{marginLeft:'1rem'},onClick:()=>setActiveReplyTo(reply.id),children:\"Odpowiedz\"})]}),activeReplyTo===reply.id&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem'},children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Twoja odpowied\\u017A...\",value:replyText,onChange:e=>setReplyText(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSubmit(reply.id),children:\"Wy\\u015Blij\"})]}),childReplies(reply.id).map(r=>renderReply(r))]},reply.id);return/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Odpowiedzi (\",post.replies.length,\")\"]}),topReplies.map(r=>renderReply(r)),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Twoja odpowied\\u017A...\",value:replyText,onChange:e=>setReplyText(e.target.value)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSubmit(null),children:\"Odpowiedz\"})]})]});}","map":{"version":3,"names":["React","useState","jsxs","_jsxs","jsx","_jsx","PostThread","_ref","post","user","onVoteReply","onReply","replyText","setReplyText","activeReplyTo","setActiveReplyTo","topReplies","replies","filter","r","parentId","childReplies","id","handleSubmit","renderReply","reply","style","marginLeft","borderLeft","padding","marginTop","children","text","onClick","score","placeholder","value","onChange","e","target","map","length"],"sources":["C:/Users/Kacper/Desktop/React/ProjektDev/projekt/src/components/PostThread.js"],"sourcesContent":["import React, { useState } from 'react';\r\nexport default function PostThread({ post, user, onVoteReply, onReply }) {\r\n  const [replyText, setReplyText] = useState('');\r\n  const [activeReplyTo, setActiveReplyTo] = useState(null);\r\n  const topReplies = post.replies.filter(r => r.parentId == null);\r\n  const childReplies = id => post.replies.filter(r => r.parentId === id);\r\n  const handleSubmit = parentId => {\r\n    if (!replyText) return;\r\n    onReply(post.id, parentId, replyText);\r\n    setReplyText(''); setActiveReplyTo(null);\r\n  };\r\n  const renderReply = reply => (\r\n    <div key={reply.id} style={{ marginLeft: reply.parentId ? '2rem' : '1rem', borderLeft: reply.parentId ? '2px dashed #bbb' : '2px solid #ddd', padding: '0.5rem', marginTop: '0.5rem' }}>\r\n      <p><strong>{reply.user}:</strong> {reply.text}</p>\r\n      <div>\r\n        <button onClick={() => onVoteReply(post.id, reply.id, 'up')}>Lubię</button>\r\n        <button onClick={() => onVoteReply(post.id, reply.id, 'down')}>Nie lubię</button>\r\n        <span> Polubień: {reply.score || 0}</span>\r\n        <button style={{ marginLeft: '1rem' }} onClick={() => setActiveReplyTo(reply.id)}>Odpowiedz</button>\r\n      </div>\r\n      {activeReplyTo === reply.id && (\r\n        <div style={{ marginTop: '0.5rem' }}>\r\n          <textarea placeholder=\"Twoja odpowiedź...\" value={replyText} onChange={e => setReplyText(e.target.value)} />\r\n          <br/>\r\n          <button onClick={() => handleSubmit(reply.id)}>Wyślij</button>\r\n        </div>\r\n      )}\r\n      {childReplies(reply.id).map(r => renderReply(r))}\r\n    </div>\r\n  );\r\n  return (\r\n    <div style={{ marginTop: '0.5rem' }}>\r\n      <h4>Odpowiedzi ({post.replies.length})</h4>\r\n      {topReplies.map(r => renderReply(r))}\r\n      <div style={{ marginTop: '1rem' }}>\r\n        <textarea placeholder=\"Twoja odpowiedź...\" value={replyText} onChange={e => setReplyText(e.target.value)} />\r\n        <br/>\r\n        <button onClick={() => handleSubmit(null)}>Odpowiedz</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}