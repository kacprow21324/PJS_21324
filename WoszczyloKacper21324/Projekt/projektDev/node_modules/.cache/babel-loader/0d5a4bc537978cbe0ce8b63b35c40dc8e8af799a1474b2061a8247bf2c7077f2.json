{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kacper\\\\Desktop\\\\PJS_projekt\\\\projekt_dev\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Login from './components/Login';\nimport NewPostForm from './components/NewPostForm';\nimport PostList from './components/PostList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORAGE_KEY = 'redditBlogData';\nexport default function App() {\n  _s();\n  const [user, setUser] = useState(null);\n  const [posts, setPosts] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n    } catch {\n      return [];\n    }\n  });\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));\n  }, [posts]);\n  const addPost = ({\n    title,\n    text\n  }) => {\n    setPosts(prev => [{\n      id: Date.now(),\n      user,\n      title,\n      text,\n      score: 0,\n      upvotes: [],\n      downvotes: [],\n      replies: []\n    }, ...prev]);\n  };\n  const deletePost = id => setPosts(prev => prev.filter(p => p.id !== id));\n  const votePost = (id, type) => setPosts(prev => prev.map(p => {\n    if (p.id !== id) return p;\n    const up = (p.upvotes || []).filter(u => u !== user);\n    const down = (p.downvotes || []).filter(u => u !== user);\n    if (type === 'up') up.push(user);\n    if (type === 'down') down.push(user);\n    return {\n      ...p,\n      upvotes: up,\n      downvotes: down,\n      score: up.length - down.length\n    };\n  }));\n  const voteReply = (postId, rid, type) => setPosts(prev => prev.map(p => {\n    if (p.id !== postId) return p;\n    const replies = p.replies.map(r => {\n      if (r.id !== rid) return r;\n      const up = (r.upvotes || []).filter(u => u !== user);\n      const down = (r.downvotes || []).filter(u => u !== user);\n      if (type === 'up') up.push(user);\n      if (type === 'down') down.push(user);\n      return {\n        ...r,\n        upvotes: up,\n        downvotes: down,\n        score: up.length - down.length\n      };\n    });\n    return {\n      ...p,\n      replies\n    };\n  }));\n  const addReply = (postId, parentId, text) => setPosts(prev => prev.map(p => {\n    if (p.id !== postId) return p;\n    return {\n      ...p,\n      replies: [...p.replies, {\n        id: Date.now(),\n        user,\n        text,\n        parentId,\n        upvotes: [],\n        downvotes: [],\n        score: 0\n      }]\n    };\n  }));\n  const logout = () => setUser(null);\n  if (!user) return /*#__PURE__*/_jsxDEV(Login, {\n    onLogin: setUser\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 20\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Witaj, \", user]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: logout,\n        children: \"Wyloguj\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewPostForm, {\n      onPost: addPost\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PostList, {\n      posts: posts,\n      user: user,\n      onVote: votePost,\n      onVoteReply: voteReply,\n      onReply: addReply,\n      onDelete: deletePost\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"sQn/OYy9JClU/aXgGPmoP0kIg2M=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Login","NewPostForm","PostList","jsxDEV","_jsxDEV","STORAGE_KEY","App","_s","user","setUser","posts","setPosts","JSON","parse","localStorage","getItem","setItem","stringify","addPost","title","text","prev","id","Date","now","score","upvotes","downvotes","replies","deletePost","filter","p","votePost","type","map","up","u","down","push","length","voteReply","postId","rid","r","addReply","parentId","logout","onLogin","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","onPost","onVote","onVoteReply","onReply","onDelete","_c","$RefreshReg$"],"sources":["C:/Users/Kacper/Desktop/PJS_projekt/projekt_dev/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport Login       from './components/Login';\r\nimport NewPostForm from './components/NewPostForm';\r\nimport PostList    from './components/PostList';\r\n\r\nconst STORAGE_KEY = 'redditBlogData';\r\nexport default function App() {\r\n  const [user, setUser] = useState(null);\r\n  const [posts, setPosts] = useState(() => {\r\n    try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || []; } catch { return []; }\r\n  });\r\n  useEffect(() => { localStorage.setItem(STORAGE_KEY, JSON.stringify(posts)); }, [posts]);\r\n\r\n  const addPost = ({ title, text }) => {\r\n    setPosts(prev => [{ id:Date.now(), user, title, text, score:0, upvotes:[], downvotes:[], replies:[] }, ...prev]);\r\n  };\r\n  const deletePost = id => setPosts(prev => prev.filter(p => p.id !== id));\r\n  const votePost = (id, type) => setPosts(prev => prev.map(p => {\r\n    if (p.id !== id) return p;\r\n    const up = (p.upvotes||[]).filter(u=>u!==user);\r\n    const down = (p.downvotes||[]).filter(u=>u!==user);\r\n    if (type==='up') up.push(user);\r\n    if (type==='down') down.push(user);\r\n    return { ...p, upvotes:up, downvotes:down, score:up.length-down.length };\r\n  }));\r\n  const voteReply = (postId, rid, type) => setPosts(prev => prev.map(p => {\r\n    if (p.id!==postId) return p;\r\n    const replies = p.replies.map(r=>{\r\n      if(r.id!==rid) return r;\r\n      const up=(r.upvotes||[]).filter(u=>u!==user);\r\n      const down=(r.downvotes||[]).filter(u=>u!==user);\r\n      if(type==='up') up.push(user);\r\n      if(type==='down') down.push(user);\r\n      return {...r, upvotes:up, downvotes:down, score:up.length-down.length};\r\n    });\r\n    return {...p, replies};\r\n  }));\r\n  const addReply = (postId, parentId, text) => setPosts(prev => prev.map(p => {\r\n    if(p.id!==postId) return p;\r\n    return {...p, replies:[...p.replies,{ id:Date.now(), user, text, parentId, upvotes:[], downvotes:[], score:0 }]};\r\n  }));\r\n\r\n  const logout = () => setUser(null);\r\n  if(!user) return <Login onLogin={setUser}/>;\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <header>\r\n        <h1>Witaj, {user}</h1>\r\n        <button className=\"btn\" onClick={logout}>Wyloguj</button>\r\n      </header>\r\n      <NewPostForm onPost={addPost} />\r\n      <PostList\r\n        posts={posts}\r\n        user={user}\r\n        onVote={votePost}\r\n        onVoteReply={voteReply}\r\n        onReply={addReply}\r\n        onDelete={deletePost}\r\n      />\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}